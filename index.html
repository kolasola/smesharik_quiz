<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Тест: какая у тебя внутренняя библиотека и Смешарик?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <style>
    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Arial, sans-serif;
      max-width: 600px;
      margin: 0 auto;
      padding: 16px;
      line-height: 1.5;
      font-size: 16px;
    }
    h1 {
      font-size: 1.4rem;
      text-align: center;
      margin-bottom: 0.5rem;
    }
    p.intro {
      text-align: center;
      font-size: 0.95rem;
      margin-bottom: 1.5rem;
    }
    .question {
      margin-bottom: 18px;
      padding: 10px 12px;
      border-radius: 8px;
      background: #f5f5f5;
    }
    .question p {
      font-weight: 600;
      margin: 0 0 8px 0;
      font-size: 0.98rem;
    }
    label {
      display: block;
      margin-bottom: 4px;
      font-size: 0.95rem;
    }
    button {
      width: 100%;
      padding: 10px 16px;
      font-size: 1rem;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      background: #4b7bec;
      color: #fff;
      font-weight: 600;
      margin-top: 8px;
    }
    button:active {
      transform: scale(0.98);
    }
    @media (max-width: 480px) {
      body {
        padding: 12px;
        font-size: 15px;
      }
      h1 {
        font-size: 1.2rem;
      }
    }
  </style>
</head>
<body>

<h1>Опросник «Внутренняя библиотека»</h1>
<p class="intro">Ответь на 6 вопросов и узнай, на какого Смешарика похожа твоя внутренняя библиотека.</p>

<form id="quizForm">

  <!-- Вопросы такие же, как раньше -->

  <div class="question">
    <p>1. Как у тебя обычно хранятся воспоминания и личный опыт?</p>
    <label><input type="radio" name="q1" value="A"> Всё по полочкам, могу быстро вспомнить, когда и что было.</label>
    <label><input type="radio" name="q1" value="B"> Помню много разных историй, но скорее как большую кучу.</label>
    <label><input type="radio" name="q1" value="C"> Часто меняю, что считать главным в своей истории.</label>
    <label><input type="radio" name="q1" value="D"> В голове остаётся несколько очень важных историй, остальное отфильтровано.</label>
  </div>

  <div class="question">
    <p>2. Как ты относишься к новым ролям, проектам, увлечениям?</p>
    <label><input type="radio" name="q2" value="A"> Сначала думаю, как это впишется в мою систему дел.</label>
    <label><input type="radio" name="q2" value="B"> Если интересно — беру всё подряд, а разбираться буду потом.</label>
    <label><input type="radio" name="q2" value="C"> Люблю пересобирать себя под ситуацию, менять образы.</label>
    <label><input type="radio" name="q2" value="D"> Выбираю немногое, но надолго, не люблю размножать роли.</label>
  </div>

  <div class="question">
    <p>3. Насколько ты делишься личным с другими?</p>
    <label><input type="radio" name="q3" value="A"> Мне довольно легко говорить о себе и чувствах.</label>
    <label><input type="radio" name="q3" value="B"> О личном знаю я и ещё пара человек, остальным — дозировано.</label>
    <label><input type="radio" name="q3" value="C"> С разными людьми я как будто совсем разный человек.</label>
    <label><input type="radio" name="q3" value="D"> То всем всё выложу, то полностью закрываюсь — зависит от настроения.</label>
  </div>

  <div class="question">
    <p>4. Как ты реагируешь на чужое мнение о себе?</p>
    <label><input type="radio" name="q4" value="A"> Важно и интересно, прислушиваюсь и иногда перестраиваюсь.</label>
    <label><input type="radio" name="q4" value="B"> Выслушать могу, но опираюсь в основном на своё мнение.</label>
    <label><input type="radio" name="q4" value="C"> Одни мнения задевают до дна, другие будто вообще не про меня.</label>
    <label><input type="radio" name="q4" value="D"> Иногда сильно влияюсь, иногда полностью игнорирую — скачет.</label>
  </div>

  <div class="question">
    <p>5. Как у тебя обычно происходят изменения в жизни и образе себя?</p>
    <label><input type="radio" name="q5" value="A"> Чаще маленькими шагами, понемногу пересматриваю взгляды.</label>
    <label><input type="radio" name="q5" value="B"> Если что-то работает, почти не меняю — люблю стабильность.</label>
    <label><input type="radio" name="q5" value="C"> Долго всё по-старому, а потом — резкая смена курса.</label>
    <label><input type="radio" name="q5" value="D"> Регулярно придумываю себе новые проекты и версии себя.</label>
  </div>

  <div class="question">
    <p>6. Как ты относишься к прошлому опыту?</p>
    <label><input type="radio" name="q6" value="A"> Иногда возвращаюсь и стараюсь встроить его в текущую историю.</label>
    <label><input type="radio" name="q6" value="B"> Что было — то было, не вижу смысла особенно туда залезать.</label>
    <label><input type="radio" name="q6" value="C"> Иногда хочется всё перечеркнуть и начать с чистого листа.</label>
    <label><input type="radio" name="q6" value="D"> Больше сосредоточен(а) на новом, чем на разборе старого.</label>
  </div>

  <button type="button" onclick="calculateResult()">Узнать результат</button>
</form>

<script>
function calculateAxis(answers, mapping) {
  const counts = {A:0, B:0, C:0, D:0};
  answers.forEach(v => { if (v) counts[v]++; });
  let best = 'A';
  ['A','B','C','D'].forEach(k => {
    if (counts[k] > counts[best]) best = k;
  });
  return mapping[best];
}

function calculateResult() {
  const form = document.getElementById('quizForm');
  const get = name => (form.querySelector('input[name="'+name+'"]:checked') || {}).value;

  const q1 = get('q1'), q2 = get('q2'),
        q3 = get('q3'), q4 = get('q4'),
        q5 = get('q5'), q6 = get('q6');

  if (!q1 || !q2 || !q3 || !q4 || !q5 || !q6) {
    alert('Пожалуйста, ответь на все вопросы.');
    return;
  }

  const axis1 = calculateAxis(
    [q1, q2],
    { A: 'Архиватор', B: 'Коллекционер', C: 'Куратор', D: 'Минималист' }
  );

  const axis2 = calculateAxis(
    [q3, q4],
    { A: 'Открытая библиотека', B: 'Закрытая библиотека',
      C: 'Фрагментированная библиотека', D: 'Плавающая библиотека' }
  );

  const axis3 = calculateAxis(
    [q5, q6],
    { A: 'Обновляющий', B: 'Стабилизатор',
      C: 'Ревизор', D: 'Писатель' }
  );

  // просто вычисляем здесь, а показывать будем на result.html
  const params = new URLSearchParams({
    axis1: axis1,
    axis2: axis2,
    axis3: axis3
  });

  window.location.href = 'result.html?' + params.toString();
}
</script>

</body>
</html>