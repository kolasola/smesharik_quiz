<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>Какая у тебя внутренняя библиотека и Смешарик?</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 800px; margin: 20px auto; line-height: 1.4; }
    h1, h2 { text-align: center; }
    .question { margin-bottom: 15px; }
    .question p { font-weight: bold; }
    button { padding: 8px 16px; font-size: 16px; cursor: pointer; }
    #result { margin-top: 20px; padding: 10px; border: 1px solid #ccc; border-radius: 6px; }
  </style>
</head>
<body>

<h1>Опросник «Внутренняя библиотека»</h1>
<p>Отметь по одному варианту в каждом вопросе.</p>

<form id="quizForm">

  <!-- Вопрос 1 -->
  <div class="question">
    <p>1. Как у тебя обычно хранятся воспоминания и личный опыт?</p>
    <label><input type="radio" name="q1" value="A"> Всё по полочкам, могу быстро вспомнить, когда и что было.</label><br>
    <label><input type="radio" name="q1" value="B"> Помню много разных историй, но скорее как большую кучу.</label><br>
    <label><input type="radio" name="q1" value="C"> Часто меняю, что считать главным в своей истории.</label><br>
    <label><input type="radio" name="q1" value="D"> В голове остаётся несколько очень важных историй, остальное отфильтровано.</label>
  </div>

  <!-- Вопрос 2 -->
  <div class="question">
    <p>2. Как ты относишься к новым ролям, проектам, увлечениям?</p>
    <label><input type="radio" name="q2" value="A"> Сначала думаю, как это впишется в мою систему дел.</label><br>
    <label><input type="radio" name="q2" value="B"> Если интересно — беру всё подряд, а разбираться буду потом.</label><br>
    <label><input type="radio" name="q2" value="C"> Люблю пересобирать себя под ситуацию, менять образы.</label><br>
    <label><input type="radio" name="q2" value="D"> Выбираю немногое, но надолго, не люблю размножать роли.</label>
  </div>

  <!-- Вопрос 3 -->
  <div class="question">
    <p>3. Насколько ты делишься личным с другими?</p>
    <label><input type="radio" name="q3" value="A"> Мне довольно легко говорить о себе и чувствах.</label><br>
    <label><input type="radio" name="q3" value="B"> О личном знаю я и ещё пара человек, остальным — дозировано.</label><br>
    <label><input type="radio" name="q3" value="C"> С разными людьми я как будто совсем разный человек.</label><br>
    <label><input type="radio" name="q3" value="D"> То всем всё выложу, то полностью закрываюсь — зависит от настроения.</label>
  </div>

  <!-- Вопрос 4 -->
  <div class="question">
    <p>4. Как ты реагируешь на чужое мнение о себе?</p>
    <label><input type="radio" name="q4" value="A"> Важно и интересно, прислушиваюсь и иногда перестраиваюсь.</label><br>
    <label><input type="radio" name="q4" value="B"> Выслушать могу, но опираюсь в основном на своё мнение.</label><br>
    <label><input type="radio" name="q4" value="C"> Одни мнения задевают до дна, другие будто вообще не про меня.</label><br>
    <label><input type="radio" name="q4" value="D"> Иногда сильно влияюсь, иногда полностью игнорирую — скачет.</label>
  </div>

  <!-- Вопрос 5 -->
  <div class="question">
    <p>5. Как у тебя обычно происходят изменения в жизни и образе себя?</p>
    <label><input type="radio" name="q5" value="A"> Чаще маленькими шагами, понемногу пересматриваю взгляды.</label><br>
    <label><input type="radio" name="q5" value="B"> Если что-то работает, почти не меняю — люблю стабильность.</label><br>
    <label><input type="radio" name="q5" value="C"> Долго всё по-старому, а потом — резкая смена курса.</label><br>
    <label><input type="radio" name="q5" value="D"> Регулярно придумываю себе новые проекты и версии себя.</label>
  </div>

  <!-- Вопрос 6 -->
  <div class="question">
    <p>6. Как ты относишься к прошлому опыту?</p>
    <label><input type="radio" name="q6" value="A"> Иногда возвращаюсь и стараюсь встроить его в текущую историю.</label><br>
    <label><input type="radio" name="q6" value="B"> Что было — то было, не вижу смысла особенно туда залезать.</label><br>
    <label><input type="radio" name="q6" value="C"> Иногда хочется всё перечеркнуть и начать с чистого листа.</label><br>
    <label><input type="radio" name="q6" value="D"> Больше сосредоточен(а) на новом, чем на разборе старого.</label>
  </div>

  <button type="button" onclick="calculateResult()">Узнать результат</button>
</form>

<div id="result" style="display:none;"></div>

<script>
function calculateAxis(answers, mapping) {
  // посчитать, какая буква встречается чаще
  const counts = {A:0, B:0, C:0, D:0};
  answers.forEach(v => { if (v) counts[v]++; });
  let best = 'A';
  ['A','B','C','D'].forEach(k => {
    if (counts[k] > counts[best]) best = k;
  });
  return mapping[best];
}

function calculateResult() {
  const form = document.getElementById('quizForm');
  const get = name => (form.querySelector('input[name="'+name+'"]:checked') || {}).value;

  const q1 = get('q1'), q2 = get('q2'),
        q3 = get('q3'), q4 = get('q4'),
        q5 = get('q5'), q6 = get('q6');

  // проверка на пропуски
  if (!q1 || !q2 || !q3 || !q4 || !q5 || !q6) {
    alert('Пожалуйста, ответь на все вопросы.');
    return;
  }

  // Ось 1: организация (q1, q2)
  const axis1 = calculateAxis(
    [q1, q2],
    { A: 'Архиватор', B: 'Коллекционер', C: 'Куратор', D: 'Минималист' }
  );

  // Ось 2: доступ (q3, q4)
  const axis2 = calculateAxis(
    [q3, q4],
    { A: 'Открытая библиотека', B: 'Закрытая библиотека',
      C: 'Фрагментированная библиотека', D: 'Плавающая библиотека' }
  );

  // Ось 3: обновление (q5, q6)
  const axis3 = calculateAxis(
    [q5, q6],
    { A: 'Обновляющий', B: 'Стабилизатор',
      C: 'Ревизор', D: 'Писатель' }
  );

  // Определяем Смешарика
  let smesharik = 'уникальный смешанный тип';
  if (axis1 === 'Куратор' && axis2 === 'Открытая библиотека' && axis3 === 'Обновляющий')
    smesharik = 'Нюша';
  else if (axis1 === 'Коллекционер' && axis2 === 'Открытая библиотека' && axis3 === 'Ревизор')
    smesharik = 'Крош';
  else if (axis1 === 'Архиватор' && axis2 === 'Закрытая библиотека' && axis3 === 'Стабилизатор')
    smesharik = 'Ёжик / Копатыч';
  else if (axis1 === 'Минималист' && axis2 === 'Плавающая библиотека' && axis3 === 'Ревизор')
    smesharik = 'Бараш';
  else if (axis1 === 'Архиватор' && axis2 === 'Открытая библиотека' && axis3 === 'Обновляющий')
    smesharik = 'Лосяш';

  const resDiv = document.getElementById('result');
  resDiv.style.display = 'block';
  resDiv.innerHTML =
    '<h2>Результат</h2>' +
    '<p><strong>Организация фондов:</strong> ' + axis1 + '</p>' +
    '<p><strong>Доступ к библиотеке:</strong> ' + axis2 + '</p>' +
    '<p><strong>Обновление фондов:</strong> ' + axis3 + '</p>' +
    '<p><strong>Твой Смешарик:</strong> ' + smesharik + '</p>';
}
</script>

</body>
</html>
